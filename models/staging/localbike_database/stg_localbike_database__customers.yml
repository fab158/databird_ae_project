models:
  - name: stg_localbike_database__customers
    description: > 
        Table de staging des clients permettant de formatter/normaliser 
        les données issues du systeme transactionnel de localbike
    columns:
      - name: customer_id
        description:  identifiant du client issue du systeme source
        data_tests:
          - not_null
          - unique

      - name: first_name
        description: Prenom du client 
        data_tests:
           - not_null

      - name: last_name
        description: Nom du client 
        data_tests:
           - not_null

      - name: Telephone du client
        description: >
           Telephone du client (donnee personnelle soumise au rgpd )
           Ici la balise sensitive est purement declarative mais dans un contexte réél pourrait etre utilise par une macro 
           La donnée sera anomysee (cf. macro anomymise_column)
        meta:
          sensitive: true

      - name: email
        description: >
           Email du client (donnee personnelle )
           Ici la metadonne sensitive est purement declarative mais dans un contexte réél pourrait etre utilisée
           par une macro pour recuperer automatiquement toutes les données sensibles d'un modele
           (cf. macro anomymise_column)
        meta:
          sensitive: true
        data_tests:
           - unique

      - name: street
        description: >
           Adresse du client (donnee personnelle )
           Ici la metadonne sensitive est purement declarative mais dans un contexte réél pourrait etre utilisée
           par une macro pour recuperer automatiquement toutes les données sensibles d'un modele
           (cf. macro anomymise_column)
        meta:
          sensitive: true

      - name: city
        description: Ville du client.
        data_tests:
          - not_null

      - name: state
        description: Etat/Région du client.
        data_tests:
          - not_null

      - name: zip_code
        description: Code postal du client.
        data_tests:
           - not_null
           